{"ast":null,"code":"import _defineProperty from \"/Users/heinzaraque/Documents/Web&Udemy-Courses/7 - Brad Traversy/MERN Stack Front To Back/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n// Import our action types\nimport { REGISTER_SUCCESS, REGISTER_FAIL, USER_LOADED, AUTH_ERROR, LOGIN_SUCCESS, LOGIN_FAIL } from '../actions/types';\nexport default ((state = {\n  token: localStorage.getItem('token'),\n  isAuthenticated: null,\n  loading: true,\n  user: null\n}, action) => {\n  const type = action.type,\n        payload = action.payload;\n\n  switch (type) {\n    case REGISTER_SUCCESS:\n    case LOGIN_SUCCESS:\n      localStorage.setItem('token', payload.token);\n      return _objectSpread({}, state, {}, payload, {\n        isAuthenticated: true,\n        loading: false\n      });\n\n    case REGISTER_FAIL:\n    case AUTH_ERROR:\n    case LOGIN_FAIL:\n      localStorage.removeItem('token');\n      return _objectSpread({}, state, {\n        token: null,\n        isAuthenticated: false,\n        loading: false\n      });\n\n    case USER_LOADED:\n      return _objectSpread({}, state, {\n        isAuthenticated: true,\n        loading: false,\n        user: payload\n      });\n\n    default:\n      return state;\n  }\n});","map":{"version":3,"sources":["/Users/heinzaraque/Documents/Web&Udemy-Courses/7 - Brad Traversy/MERN Stack Front To Back/client/src/reducers/auth.js"],"names":["REGISTER_SUCCESS","REGISTER_FAIL","USER_LOADED","AUTH_ERROR","LOGIN_SUCCESS","LOGIN_FAIL","state","token","localStorage","getItem","isAuthenticated","loading","user","action","type","payload","setItem","removeItem"],"mappings":";;;;;;AAAA;AACA,SAASA,gBAAT,EAA2BC,aAA3B,EAA0CC,WAA1C,EAAuDC,UAAvD,EAAmEC,aAAnE,EAAkFC,UAAlF,QAAqG,kBAArG;AAEA,gBAAe,CAACC,KAAK,GAAG;AACtBC,EAAAA,KAAK,EAAEC,YAAY,CAACC,OAAb,CAAqB,OAArB,CADe;AAEtBC,EAAAA,eAAe,EAAE,IAFK;AAGtBC,EAAAA,OAAO,EAAE,IAHa;AAItBC,EAAAA,IAAI,EAAE;AAJgB,CAAT,EAKZC,MALY,KAKD;AAAA,QACJC,IADI,GACcD,MADd,CACJC,IADI;AAAA,QACEC,OADF,GACcF,MADd,CACEE,OADF;;AAGZ,UAAQD,IAAR;AACE,SAAKd,gBAAL;AACA,SAAKI,aAAL;AACEI,MAAAA,YAAY,CAACQ,OAAb,CAAqB,OAArB,EAA8BD,OAAO,CAACR,KAAtC;AACA,+BAAYD,KAAZ,MAAsBS,OAAtB;AAA+BL,QAAAA,eAAe,EAAE,IAAhD;AAAsDC,QAAAA,OAAO,EAAE;AAA/D;;AAEF,SAAKV,aAAL;AACA,SAAKE,UAAL;AACA,SAAKE,UAAL;AACEG,MAAAA,YAAY,CAACS,UAAb,CAAwB,OAAxB;AACA,+BAAYX,KAAZ;AAAmBC,QAAAA,KAAK,EAAE,IAA1B;AAAgCG,QAAAA,eAAe,EAAE,KAAjD;AAAwDC,QAAAA,OAAO,EAAE;AAAjE;;AAEF,SAAKT,WAAL;AACE,+BAAYI,KAAZ;AAAmBI,QAAAA,eAAe,EAAE,IAApC;AAA0CC,QAAAA,OAAO,EAAE,KAAnD;AAA0DC,QAAAA,IAAI,EAAEG;AAAhE;;AAKF;AACE,aAAOT,KAAP;AAnBJ;AAqBD,CA7BD","sourcesContent":["// Import our action types\nimport { REGISTER_SUCCESS, REGISTER_FAIL, USER_LOADED, AUTH_ERROR, LOGIN_SUCCESS, LOGIN_FAIL  } from '../actions/types';\n\nexport default (state = {\n  token: localStorage.getItem('token'),\n  isAuthenticated: null,\n  loading: true,\n  user: null,\n}, action) => {\n  const { type, payload } = action\n\n  switch (type) {\n    case REGISTER_SUCCESS:\n    case LOGIN_SUCCESS:\n      localStorage.setItem('token', payload.token);\n      return { ...state, ...payload, isAuthenticated: true, loading: false, }\n\n    case REGISTER_FAIL:\n    case AUTH_ERROR:\n    case LOGIN_FAIL:\n      localStorage.removeItem('token');\n      return { ...state, token: null, isAuthenticated: false, loading: false, }\n\n    case USER_LOADED:\n      return { ...state, isAuthenticated: true, loading: false, user: payload, }  \n    \n    \n\n\n    default: \n      return state;  \n  }\n}\n"]},"metadata":{},"sourceType":"module"}